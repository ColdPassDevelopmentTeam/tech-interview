# SYN Flooding Attack Presentation

## 📘 개요
이 문서는 네트워크 보안 분야에서 **SYN Flooding Attack**을 중심으로 다룬 프레젠테이션 자료의 요약입니다.  
TCP의 **3-Way Handshake 과정의 취약점**을 악용해 서버의 연결 대기 큐를 가득 채움으로써 정상적인 접속을 방해하는 대표적인 **DoS 공격 방식**을 설명합니다.

---

## 📖 주요 내용

### 1. Flooding(플러딩) 개념
- 플러딩은 **단기간에 대량의 요청이나 트래픽을 전송**하여 서버·네트워크·서비스의 자원을 소모시키는 행위.
- DoS(Denial of Service)의 대표적인 형태로, **의도적 공격** 혹은 **시스템 오류로 인한 과부하**로 발생할 수 있음.

---

### 2. SYN Flooding의 원리
- **TCP 3-Way Handshake**의 첫 단계(SYN 요청)를 이용한 공격.
- 공격자는 **ACK를 보내지 않고** SYN만 반복적으로 전송해 서버의 **Half-open Queue**를 채움.
- 서버는 제한된 큐 공간이 꽉 차면 정상 요청을 처리하지 못해 **서비스 거부 상태**에 빠짐.

#### 공격 방식
- 단일 IP 기반 공격
- 분산형(DDoS) 공격
- **IP 스푸핑**을 통한 출발지 주소 위조

### 플러딩 종류들
### A. 네트워크 / 전송 계층 플러딩

1. **SYN Flood (TCP SYN Flood)**  
   - **설명:** TCP 3-way-handshake의 첫 단계인 `SYN`만 대량 전송하여 서버의 half-open(미완성) 연결을 쌓아 `SYN 큐`를 포화시킴. 서버는 `SYN+ACK`를 보내고 `ACK`를 기다리며 자원(메모리, 소켓)을 점유당함.  
   - **영향:** 정상 클라이언트의 연결 허용 수 감소, 서비스 접속 실패.  
   - **특징:** 비교적 적은 트래픽으로 큰 영향을 줄 수 있음.

2. **UDP Flood**  
   - **설명:** 임의의 UDP 패킷을 대량 전송. 대상이 응답을 보내면(예: ICMP 응답) 대역폭과 처리 자원이 소모됨.  
   - **영향:** 대역폭 포화, 네트워크 레벨 장애.

3. **ICMP (Ping) Flood**  
   - **설명:** ICMP Echo Request(ping)를 대량 전송해 대상이 응답하거나 네트워크 장비가 처리 부하를 겪게 함.  
   - **영향:** 대역폭 소모, CPU 사용 증가.

4. **ACK / RST Flood**  
   - **설명:** 이미 수립된 연결에 대해 비정상적인 ACK나 RST를 대량 전송해 상태 테이블을 교란하거나 세션을 끊음.  
   - **영향:** 연결 불안정, 세션 중단.
---

### B. 증폭(Amplification) / 반사(Reflection) 기반 플러딩
 (에코 응답을 이용한 브로드캐스팅 테러와 유사하다고 이해하면 쉽다)
- **원리:** 작은 요청으로 다수의 응답을 유발하는 공용 서비스를 악용. 공격자는 출발지 IP를 피해자 IP로 위조(spoof)하고 반사 서버(예: DNS, NTP, SSDP)에 요청을 보냄. 반사 서버들이 피해자에게 큰 응답을 보내 공격이 증폭됨.

1. **DNS Amplification**  
   - **특징:** 작은 DNS 쿼리로 큰 응답을 유도(특히 `ANY` 쿼리/증폭 이용). 높은 증폭률 가능.

2. **NTP Amplification**  
   - **특징:** 예전 `monlist` 같은 명령으로 많은 응답을 유발. 과거에 많이 악용됨.

3. **SSDP / Chargen / Memcached 증폭**  
   - **특징:** UDP 기반의 공용 서비스들을 악용해 반사·증폭 공격 발생.

- **영향:** 매우 큰 대역폭을 단기간에 피해자에게 집중시켜 네트워크 자체를 사용할 수 없게 만듦.




### 3. 서버의 상태와 큐 구조
- **SYN 큐 (incomplete queue)**: SYN을 받은 후 ACK를 기다리는 연결 대기 상태 저장.
- **ACCEPT 큐 (completed queue)**: 3-Way Handshake가 완료된 연결 저장.
- SYN 큐가 가득 차면 새로운 연결 요청이 **지연되거나 거부(drop)**됨.

---

### 4. 탐지 및 대응 방안

#### 이상 징후
- SYN 트래픽 급증
- SYN : SYN-ACK 비율 불균형
- Half-open 상태(SYN_RECV) 수 증가
- 클라이언트 타임아웃 또는 사용자 불만 다수 발생

#### 기술적 대응
1. **SYN cookies**  
   → 클라이언트의 ACK를 받은 뒤에만 연결 상태를 재구성하여 자원 낭비 방지  
2. **Backlog Queue 확장**  
   → SYN 큐 크기 조정으로 연결 대기 공간 확보  
3. **Rate limiting / ACL / conntrack 튜닝**  
   → 비정상적인 트래픽 제한  
4. **방화벽 및 DDoS 장비**  
   → 동일 IP의 과도한 SYN 요청 탐지 및 차단  
5. **클라우드 기반 보호 서비스**  
   → AWS Shield, Cloudflare, CDN/Anycast 등  

---

### 5. 관련 네트워크 공격

다 외우기는 어렵기 때문에 간단한 설명만 추가

### 5. 관련 네트워크 공격 (확장된 목록)

| 공격 유형 | 설명 | 주요 특징 |
|---|---|---|
| **Scanning** | 공격 전 정찰: 서비스 포트·OS·취약점 탐색 | SYN/Connect/UDP/ACK/FIN/XMAS 등 다양한 스캔 기법; 목표·취약점 식별 목적 |
| **Sniffing** | 네트워크 상 패킷 감청·수집·분석(도청) | HTTP 쿠키·세션 토큰·DNS 질의 등 평문 데이터 노출; 스위치 미러링, TAP, promiscuous 모드 활용 |
| **Spoofing** | 송신자 정보(IP/ARP/DNS/이메일 등) 위조 | 출처 위조로 공격 추적 회피·반사·증폭 공격 유발; IP/ARP/DNS/E-mail 스푸핑 종류 |
| **Hijacking** | 세션·트래픽·경로 탈취 또는 우회 | BGP 하이재킹, DNS 하이재킹, 세션 토큰 탈취 등; 트래픽 유도·탈취·차단 가능 |
| **Smurfing (반사/증폭형)** | 브로드캐스트/반사 응답을 이용한 증폭형 DDoS | 출발지 IP 위조 + 브로드캐스트 응답 → 피해자에게 대량 트래픽 집중 |
| **Worm / Virus** | 자가 전파(웜) 또는 숙주 의존(바이러스) 악성코드 | 네트워크 기반 확산(웜) vs 파일·매체 기반 감염(바이러스); 대규모 확산·서비스 저하 |
| **Amplification / Reflection** | 작은 요청으로 큰 응답을 유발해 피해자에게 반사 | DNS, NTP, SSDP, Memcached 등으로 높은 증폭률; 소량의 요청 → 대량의 응답 |
| **Distributed DoS (DDoS)** | 다수의 분산된 공격 소스(봇넷)로 동시다발 공격 | 트래픽 출처 분산 → 차단·추적 어려움; 네트워크·애플리케이션 동시 공격 가능 |
| **Man-in-the-Middle (MITM)** | 통신 중간에서 패킷 가로채기·감청·변조 | ARP/NDP 스푸핑, 악성 AP, TLS 중간자 기법 등; 데이터 탈취·변조 위험 |
| **Replay Attack** | 정당한 통신을 캡처해 재전송하여 인증/거래 재현 | 타임스탬프/논스 미사용 시 취약; 금융·세션 재사용 위험 |
| **DNS Cache Poisoning** | DNS 응답을 변조하거나 캐시에 악성 레코드 저장 | 도메인->IP 매핑 변조로 트래픽 유도·피싱·서비스 가로채기 유발 |
| **ARP / NDP Spoofing** | LAN 수준에서 ARP/NDP 응답 위조로 트래픽 가로채기 | 로컬 네트워크에서 쉽게 MITM을 구현 가능; 스위치 기반 환경에서도 문제 발생 |
| **BGP Hijacking** | 인터넷 경로 조작으로 트래픽 경로 변경 또는 가로채기 | ISP/AS 레벨에서 발생; 대규모 트래픽 유도·감청·차단 가능 |
| **Session Hijacking** | 인증 세션(쿠키·토큰 등) 탈취로 사용자 권한 획득 | 탈취된 세션으로 서비스에 무단 접근, 계정 탈취·권한 오·남용 |
| **Protocol Abuse / Misuse** | 프로토콜의 합법적 기능을 악용한 공격 | 예: SMTP 리레이, SNMP/SMB 오용 등으로 자원 소모·정보 유출 유발 |





